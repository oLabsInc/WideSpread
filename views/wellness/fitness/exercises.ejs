<style>
    .all-exercises {

        max-height: calc(100vh - 200px);
        overflow-y: auto;
        padding-top: 15px;
        padding-bottom: 15px;
    }
    .all-exercises li {
        color: #fff;
        font-size: 1.2rem;
        background-color: rgba(0, 0, 0, 0.15);
    }
    .add-exercise {
        padding-bottom: 10px;
        border-top: solid 1px lightskyblue;
        border-bottom: solid 1px lightskyblue;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 120px;
    }
    .add-exercise button {
        width: 100%;
        color: #fff;
        font-size: 1.2rem;
        outline: none;
        border: none;
        margin-inline: auto;
        margin-top: 8px;
        border-radius: 8px;
        padding: 8px;
        background-color: rgba(135, 206, 250, 0.25);
        box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.25), 0 0 8px rgba(255, 255, 255, 0.15);
    }
    .add-exercise-inputs {
        width: 100%;
        padding-bottom: 8px;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-items: center;
        justify-content: space-evenly;
    }
    .add-exercise-inputs input {
        color: #fff;
        width: 50%;
        background-color: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(10px);
        outline: none;
        border: none;
        border-radius: 6px;
        padding: 5px;
    }
    .add-exercise-inputs select {
        width: 40%;
        background-color: #111;
        color: lightskyblue;
        padding: 0.5rem;
        border-radius: 8px;

    }



    .exercise-card-container {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        justify-content: flex-start;
        margin-top: 1rem;
    }

    .exercise-card {
        width: calc(95% - 16px);
        margin-inline: auto;
        background-color: rgba(255, 255, 255, 0.05);
        box-shadow: inset 0 0 10px #fff, 0 0 6px rgba(135, 206, 250, 0.6);
        backdrop-filter: blur(10px);
        border-radius: 8px;
        border-top: solid 1px rgba(255, 255, 255, 0.6);
        border-bottom: solid 1px rgba(255, 255, 255, 0.6);
        margin-top: 15px;
        margin-bottom: 3px;
        padding: 8px;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    .exercise-card-header {
        width: calc(100% - 10px);
        padding: 5px;
        margin-bottom: 8px;
        
    }
    .exercise-card-body {
        background-color: rgba(135, 206, 250, 0.15);
        border-radius: 4px;
        box-shadow: 0 0 3px rgba(166, 221, 255, 0.45), inset 0 0 10px #ffffff85;
        width: 95%;
        max-width: 90vw;
        padding: 5px;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-items: center;
        justify-content: space-between;

    }

    .exercise-card-body-category {
        border-right: solid 1px lightskyblue;
        padding-left: 5px;
        padding-right: 5px;
        width: 100%;
    }
    .exercise-card-body-difficulty {
        border-right: solid 1px lightskyblue;
        /* padding-right: 5px; */
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-items: center;
        justify-content: flex-start;
        width: 35%;
        max-width: 80vw;
        min-width: 130px;
    }
    .exercise-card-body-difficulty-value {
        width: 25px;
        min-width: 25px;
        max-width: 25px;
        height: 25px;
        min-height: 25px;
        max-height: 25px;
        color: rgba(255, 255, 255, 0.25);

        display: flex;
        align-items: center;
        justify-content: center;
    }
    .exercise-card-body-difficulty-value-plus {
        color: #fff;
    }
    .exercise-card-body-user-options {
        width: 50%;
        display: flex;
        align-items: center;
        justify-content: flex-end;
    }

    .exercise-card-body-user-options-item i {
        font-weight: light;
        font-size: 1.4rem;
        width: 28px;
    display: flex;
    align-items: center;
    justify-content: flex-end;
    }




    .exercise-card-user-data-checked {
        color: yellowgreen;
    }
    .exercise-card-user-data-add {
        color: yellowgreen;
    }
    .exercise-card-user-data-remove {
        color: orangered;
    }
    .active-letter {
        color: lightskyblue;
    }
    .active-exercise-item {
        display: flex;
    }
    .to-do li {
        margin-bottom: 15px;
    }
</style>

<%- include('../../partials/menus/wellness'); %>

<%- include('../../partials/menus/sub/wellness/fitness'); %>


<i style="padding: 8px; display: none;" class="bx bx-accessibility"></i>





<div class="add-exercise" style="display: none;">
    <form action="/wellness/fitness/exercises/add" method="post">
        <div class="add-exercise-inputs">

            <input autofocus type="text" name="exercise" placeholder="Exercise" required>
            <select name="category" id="catSelect" required>
                <option disabled selected hidden>Category</option>
                <option value="Abdominals">Abdominals</option>
                <option value="Adductors">Adductors</option>
                <option value="Abductors">Abductors</option>
                <option value="Lower Back">Lower Back</option>
                <option value="Middle Back">Middle Back</option>
                <option value="Upper Back">Upper Back</option>
                <option value="Biceps">Biceps</option>
                <option value="Calves">Calves</option>
                <option value="Chest">Chest</option>
                <option value="Forearms">Forearms</option>
                <option value="Glutes">Glutes</option>
                <option value="Hamstrings">Hamstrings</option>
                <option value="Lats">Lats</option>
                <option value="Neck">Neck</option>
                <option value="Quadriceps">Quadriceps</option>
                <option value="Shoulders">Shoulders</option>
                <option value="Traps">Traps</option>
                <option value="Triceps">Triceps</option>
            </select>
        </div>

        <button type="submit">Add Exercise</button>
    </form>
</div>




<div class="alphabet-filter">
    <div class="alphabet-filter-letter" data-letter="a">A</div>
    <div class="alphabet-filter-letter" data-letter="b">B</div>
    <div class="alphabet-filter-letter" data-letter="c">C</div>
    <div class="alphabet-filter-letter" data-letter="d">D</div>
    <div class="alphabet-filter-letter" data-letter="e">E</div>
    <div class="alphabet-filter-letter" data-letter="f">F</div>
    <div class="alphabet-filter-letter" data-letter="g">G</div>
    <div class="alphabet-filter-letter" data-letter="h">H</div>
    <div class="alphabet-filter-letter" data-letter="i">I</div>
    <div class="alphabet-filter-letter" data-letter="j">J</div>
    <div class="alphabet-filter-letter" data-letter="k">K</div>
    <div class="alphabet-filter-letter" data-letter="l">L</div>
    <div class="alphabet-filter-letter" data-letter="m">M</div>
    <div class="alphabet-filter-letter" data-letter="n">N</div>
    <div class="alphabet-filter-letter" data-letter="o">O</div>
    <div class="alphabet-filter-letter" data-letter="p">P</div>
    <div class="alphabet-filter-letter" data-letter="q">Q</div>
    <div class="alphabet-filter-letter" data-letter="r">R</div>
    <div class="alphabet-filter-letter" data-letter="s">S</div>
    <div class="alphabet-filter-letter" data-letter="t">T</div>
    <div class="alphabet-filter-letter" data-letter="u">U</div>
    <div class="alphabet-filter-letter" data-letter="v">V</div>
    <div class="alphabet-filter-letter" data-letter="w">W</div>
    <div class="alphabet-filter-letter" data-letter="x">X</div>
    <div class="alphabet-filter-letter" data-letter="y">Y</div>
    <div class="alphabet-filter-letter" data-letter="z">Z</div>
    <div class="alphabet-filter-letter" data-letter="all">All</div>
</div>


<div class="all-exercises">
    <ul class="exercise-card-container" data-letter-selected="">
        <% allExercises.forEach(function(workout) { %>
            <li>
                <div class="exercise-card hidden">
                    <div class="exercise-card-header">
                        <h6><%= workout.exercise %></h6>
                    </div>
                    <div class="exercise-card-body">
                        <div class="exercise-card-body-category">
                            <span><%= workout.category %></span>
                        </div>
                        <!-- ADD DYNAMIC DIFFICULTY -->
                        <div class="exercise-card-body-user-options">
                            <div class="exercise-card-body-difficulty">
                                <div class="exercise-card-body-difficulty-value exercise-card-body-difficulty-value-plus">*</div>
                                <div class="exercise-card-body-difficulty-value exercise-card-body-difficulty-value-plus">*</div>
                                <div class="exercise-card-body-difficulty-value exercise-card-body-difficulty-value-plus">*</div>
                                <div class="exercise-card-body-difficulty-value">*</div>
                                <div class="exercise-card-body-difficulty-value">*</div>
                            </div>
                            <div class="exercise-card-body-user-options-item">
                                <i class="bx bx-plus-circle exercise-card-user-data-add"></i>
                                <i style="display: none;" class="bx bx-check-circle exercise-card-user-data-checked"></i>
                                <i style="display: none;" class="bx bx-x-circle exercise-card-user-data-remove"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </li>

        <% }) %>
    </ul>
</div>
<% workoutSchedule.sunday.forEach(function(exercise) { %>
    <p style="display: none;"><%= exercise %></p>
<% }) %>

<div class="to-do" style="width: 90%; margin-inline: auto; background-color:rgba(255, 255, 255, 0.25)">
    <ul>
        <li>Add Difficulty to Exercise Schema</li>
        <li>Add "Sort By Muscle" Feature</li>
        <li>Add "Add To Workout" with a Day of the Week Checkbox Group to add to any day of the week as many days as the
            user wants</li>
        <li>Add Options to allow users to create multiple workouts in 1 day</li>
        <li>Add Descriptions to the Exercise Schema and slowly give each exercise a brief description</li>
        <li>Add Image to the Exercise Schema and start creating 3D models that show how the exercise is done (add vidoes
            once WideSpread has a data center)</li>
    </ul>
</div>


<script>
    const 
    letters = document.querySelectorAll('.alphabet-filter-letter'),
    exerciseList = document.querySelector('.exercise-card-container'),
    exercises = document.querySelectorAll('.exercise-card')



    letters.forEach(letter => {
        letter.addEventListener('click', e => {
            letters.forEach(clearLetter => {
                clearLetter.classList.remove('active-letter')
            })

            const target = e.target
            const selectedLetter = target.getAttribute('data-letter')
            console.log(target)    
            target.classList.toggle('active-letter')
            const uppercaseLetter = selectedLetter.toUpperCase()
            exerciseList.setAttribute('data-letter-selected', selectedLetter)

            exercises.forEach(exercise => {
                exercise.classList.remove('active-exercise-item')
                exercise.classList.add('hidden')
                const exerciseHeader = exercise.querySelector('.exercise-card-header h6')
                if (uppercaseLetter == exerciseHeader.innerText[0]) {
                    console.log('ONLY SHOW EXERCISES THAT START WITH LETTER ', exercise.innerText[0])
                    console.log('EXERCISE: ', exerciseHeader.innerText)
                    console.log(exerciseHeader.innerText[0])
                    exercise.classList.add('active-exercise-item')
                    exercise.classList.remove('hidden')
                }
                if (selectedLetter === 'all') {
                    exercise.classList.remove('hidden')
                    exercise.classList.add('active-exercise-item')
                    
                }
            })
        })
    })
</script>